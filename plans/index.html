


<!DOCTYPE html>
<html lang="ch">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<title>我的计划 [ 代码和诗 ]</title>

	<link rel="shortcut icon" href="/myicon.ico">
	
	
	<!-- stylesheets list from _config.yml -->
	
	<link rel="stylesheet" href="/css/PreciousJoy.css">
	
	<link rel="stylesheet" href="/css/top-bar.css">
	
	<link rel="stylesheet" href="/css/menu-outer.css">
	
	<link rel="stylesheet" href="/css/content-outer.css">
	
	<link rel="stylesheet" href="/css/bottom-outer.css">
	
	<link rel="stylesheet" href="/css/atom-one-dark.css">
	
	<link rel="stylesheet" href="/css/recent-posts-item.css">
	
	<link rel="stylesheet" href="/css/article-sidebar-toc.css">
	
	<link rel="stylesheet" href="/css/jquery.fancybox.min.css">
	
	<link rel="stylesheet" href="/css/search.css">
	
	<link rel="stylesheet" href="/css/toc.css">
	
	<link rel="stylesheet" href="/css/sidebar.css">
	
	<link rel="stylesheet" href="/css/archive.css">
	
	<link rel="stylesheet" href="/css/jquery.mCustomScrollbar.min.css">
	
	<link rel="stylesheet" href="/css/Z-last-cover-others.css">
	
	
	
<meta name="generator" content="Hexo 7.3.0"></head>




<body id="wrapper">

	<div id="">
		
		<div id="top-bar">
			
			<div id="avatar-box">
				<img 
				class="avatar"
				src="/images/my-avatar.jpg" //网站头像
				alt="avatar">
			</div>

			<div id="top-bar-text">
				<div id="top-bar-title">
					阳生。
				</div>
				<div id="top-bar-slogan">
					风毛丛劲节，只上尽头竿。
				</div>
			</div>

		</div>

		<div id="menu-outer">
			<div id="menu-inner">
				
				
				<div class="menu-item">
					<a href="/">Home</a>
				</div>
				
				<div class="menu-item">
					<a href="/about">About</a>
				</div>
				
				<div class="menu-item">
					<a href="/archives">Archives</a>
				</div>
				
				<div class="menu-item">
					<a href="/plans">Plans</a>
				</div>
				

				<div class="menu-item menu-item-search">
					
  <span class="local-search local-search-google local-search-plugin">
      <input type="search" placeholder="站内搜索" id="local-search-input" class="local-search-input-cls" style="">
      <div id="local-search-result" class="local-search-result-cls"></div>
  </span>
	
				</div>

			</div>
		</div>

		<div id="content-outer">
			<div id="content-inner">

				<article id="page">
  <h1>我的计划</h1>
  
  <div class="plans-container">
    <div id="plans-list"></div>
  </div>

  <div class="page-content">
      <p>这里是我的计划清单。</p>

  </div>
</article>

<style>
/* Plans Page Styles */
.plans-container {
    max-width: 800px;
    margin: 20px auto;
}

.plan-item {
    background: #fff;
    border: 1px solid #e1e4e8;
    border-radius: 6px;
    padding: 15px;
    margin-bottom: 15px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: all 0.3s ease;
    box-shadow: 0 1px 3px rgba(0,0,0,0.05);
}

.plan-item:hover {
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
}

.plan-content-wrapper {
    flex: 1;
}

.plan-title {
    font-size: 1.1em;
    font-weight: 600;
    color: #24292e;
    margin-bottom: 5px;
}

.plan-meta {
    font-size: 0.85em;
    color: #586069;
}

.plan-deadline {
    margin-right: 15px;
}

.plan-countdown {
    display: inline-block;
    padding: 2px 8px;
    border-radius: 12px;
    background-color: #e6f7ff;
    color: #0070f3;
    font-weight: 500;
}

.plan-countdown.urgent {
    background-color: #fff1f0;
    color: #cf1322;
}

.plan-countdown.expired {
    background-color: #f5f5f5;
    color: #999;
}

/* Done state */
.plan-item.done {
    background-color: #fafbfc;
    border-color: #eee;
}

.plan-item.done .plan-title {
    text-decoration: line-through;
    color: #999;
}

.plan-item.done .plan-countdown {
    display: none;
}

.plan-status-icon {
    font-size: 1.5em;
    margin-left: 15px;
    color: #28a745;
}

.plan-status-icon.pending {
    color: #dbdbdb;
}

/* Expandable styles */
.plan-item.expandable {
    flex-wrap: wrap;
    cursor: pointer;
}

.plan-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 100%;
}

.plan-subitems {
    width: 100%;
    margin-top: 15px;
    padding-top: 15px;
    border-top: 1px dashed #eee;
    display: none; /* Hidden by default */
}

.plan-item.expanded .plan-subitems {
    display: block;
}

.toggle-icon {
    display: inline-block;
    width: 20px;
    transition: transform 0.2s;
    margin-right: 5px;
    color: #0366d6;
}

.plan-item.expanded .toggle-icon {
    transform: rotate(90deg);
}

.plan-subitems ul {
    margin: 0;
    padding-left: 20px;
    list-style-type: none;
}
.plan-subitems li {
    margin-bottom: 8px;
    color: #444;
    position: relative;
    padding-left: 15px;
}
.plan-subitems li::before {
    content: "•";
    color: #0366d6;
    position: absolute;
    left: 0;
}

@media (max-width: 600px) {
    .plan-item {
        flex-direction: column;
        align-items: flex-start;
    }
    .plan-status-icon {
        align-self: flex-end;
        margin-top: -30px;
    }
}
</style>

<script>
(function() {
    var rawPlans = [{"content":"完成 Hexo 博客新页面开发","done":false,"deadline":"2026-02-01 12:00:00","items":["设计页面布局","编写 EJS 模板","调试 CSS 样式","部署上线"]},{"content":"阅读《百年孤独》","done":true,"deadline":"2025-12-31 23:59:59"}];
    
    // Initial processing and state setup
    var plans = rawPlans.map(function(p, index) {
        return {
            ...p,
            id: index,
            dateObj: new Date(p.deadline),
            expanded: false
        };
    });

    // Sort once
    plans.sort(function(a, b) {
        if (a.done && !b.done) return 1;
        if (!a.done && b.done) return -1;
        return a.dateObj - b.dateObj;
    });

    function formatTimeRemaining(endTime) {
        var total = Date.parse(endTime) - Date.parse(new Date());
        if (total <= 0) {
            return { raw: total, text: "已过期" };
        }
        var seconds = Math.floor((total / 1000) % 60);
        var minutes = Math.floor((total / 1000 / 60) % 60);
        var hours = Math.floor((total / (1000 * 60 * 60)) % 24);
        var days = Math.floor(total / (1000 * 60 * 60 * 24));
        
        var text = "";
        if (days > 0) text += days + "天 ";
        
        var h = hours < 10 ? "0" + hours : hours;
        var m = minutes < 10 ? "0" + minutes : minutes;
        var s = seconds < 10 ? "0" + seconds : seconds;
        
        text += h + "时 " + m + "分 " + s + "秒";
        
        return { raw: total, text: "剩余: " + text };
    }

    function render() {
        var container = document.getElementById('plans-list');
        if (!container) return;

        var html = plans.map(function(plan) {
            var isDone = plan.done;
            var hasItems = plan.items && plan.items.length > 0;
            
            // Date display
            var dateDisplay = plan.dateObj.toLocaleString('zh-CN', { hour12: false });
            
            // Countdown
            var countdown = formatTimeRemaining(plan.dateObj);
            var countdownClass = 'plan-countdown';
            if (countdown.raw <= 0 && !isDone) countdownClass += ' expired';
            if (countdown.raw > 0 && countdown.raw < 24 * 60 * 60 * 1000) countdownClass += ' urgent';

            // Sub-items HTML
            var subItemsHtml = '';
            if (hasItems) {
                subItemsHtml = '<div class="plan-subitems"><ul>' + 
                    plan.items.map(function(item) { return '<li>' + item + '</li>'; }).join('') + 
                    '</ul></div>';
            }

            // Main Content
            var contentHtml = `
                <div class="plan-content-wrapper">
                    <div class="plan-title">
                        ${hasItems ? '<span class="toggle-icon">▶</span>' : ''}
                        ${plan.content}
                    </div>
                    <div class="plan-meta">
                        <span class="plan-deadline">截止: ${dateDisplay}</span>
                        ${!isDone ? `<span class="${countdownClass}">${countdown.text}</span>` : ''}
                    </div>
                </div>
                <div class="plan-status-icon ${isDone ? '' : 'pending'}">
                    ${isDone ? '✓' : '○'}
                </div>
            `;

            // Wrap in expandable container if needed
            if (hasItems) {
                var expandedClass = plan.expanded ? ' expanded' : '';
                return `
                    <div class="plan-item ${isDone ? 'done' : ''} expandable${expandedClass}" data-id="${plan.id}">
                        <div class="plan-header">${contentHtml}</div>
                        ${subItemsHtml}
                    </div>
                `;
            } else {
                return `
                    <div class="plan-item ${isDone ? 'done' : ''}">
                        ${contentHtml}
                    </div>
                `;
            }
        }).join('');

        container.innerHTML = html;
    }

    // Toggle logic
    document.addEventListener('click', function(e) {
        var header = e.target.closest('.plan-header');
        if (!header) return;
        
        var item = header.closest('.plan-item.expandable');
        if (item) {
            var id = parseInt(item.getAttribute('data-id'));
            var plan = plans.find(function(p) { return p.id === id; });
            if (plan) {
                plan.expanded = !plan.expanded;
                render();
            }
        }
    });

    document.addEventListener('DOMContentLoaded', function() {
        render();
        setInterval(render, 1000); // Dynamic update
    });
})();
</script>


			</div>
		</div>

		<div id="bottom-outer">
			<div id="bottom-inner">
				Site by 阳生 | 
				Powered by <a target="_blank" rel="noopener" href="http://hexo.io">Hexo</a> |
				theme <a target="_blank" rel="noopener" href="https://github.com/fireworks99/hexo-theme-PreciousJoy">PreciousJoy</a>
			</div>
		</div>

		
	</div>





	
	<!-- scripts list from theme config.yml -->
	
	<script src="/js/jquery-3.5.1.min.js"></script>
	
	<script src="/js/PreciousJoy.js"></script>
	
	<script src="/js/highlight.pack.js"></script>
	
	<script src="/js/jquery.fancybox.min.js"></script>
	
	<script src="/js/search.js"></script>
	
	<script src="/js/load.js"></script>
	
	<script src="/js/jquery.mCustomScrollbar.concat.min.js"></script>
	
	<script src="/js/clipboard.min.js"></script>
	
	

	<script>hljs.initHighlightingOnLoad();</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>
</html>
