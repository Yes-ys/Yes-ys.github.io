


<!DOCTYPE html>
<html lang="ch">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<title> [ 代码和诗 ]</title>

	<link rel="shortcut icon" href="/myicon.ico">
	
	
	<!-- stylesheets list from _config.yml -->
	
	<link rel="stylesheet" href="/css/PreciousJoy.css">
	
	<link rel="stylesheet" href="/css/top-bar.css">
	
	<link rel="stylesheet" href="/css/menu-outer.css">
	
	<link rel="stylesheet" href="/css/content-outer.css">
	
	<link rel="stylesheet" href="/css/bottom-outer.css">
	
	<link rel="stylesheet" href="/css/atom-one-dark.css">
	
	<link rel="stylesheet" href="/css/recent-posts-item.css">
	
	<link rel="stylesheet" href="/css/article-sidebar-toc.css">
	
	<link rel="stylesheet" href="/css/jquery.fancybox.min.css">
	
	<link rel="stylesheet" href="/css/search.css">
	
	<link rel="stylesheet" href="/css/toc.css">
	
	<link rel="stylesheet" href="/css/sidebar.css">
	
	<link rel="stylesheet" href="/css/archive.css">
	
	<link rel="stylesheet" href="/css/jquery.mCustomScrollbar.min.css">
	
	<link rel="stylesheet" href="/css/pagination-fan.css">
	
	<link rel="stylesheet" href="/css/about.css">
	
	<link rel="stylesheet" href="/css/Z-last-cover-others.css">
	
	
	
<meta name="generator" content="Hexo 7.3.0"></head>




<body id="wrapper">

	<div id="">
		
        <div id="fixed-header">
            <div id="top-bar">
                
                <div id="avatar-box">
                    <img 
                    class="avatar"
                    src="/images/my-avatar.jpg" //网站头像
                    alt="avatar">
                </div>

                <div id="top-bar-text">
                    <div id="top-bar-title">
                        阳生。
                    </div>
                    <div id="top-bar-slogan">
                        风毛丛劲节，只上尽头竿。
                    </div>
                </div>

            </div>

            <div id="menu-outer">
                <div id="menu-inner">
                    
                    
                    <div class="menu-item particle-effect-btn">
                        <a href="/">
                            <span class="btn-text">博文</span>
                        </a>
                    </div>
                    
                    <div class="menu-item particle-effect-btn">
                        <a href="/plans">
                            <span class="btn-text">计划</span>
                        </a>
                    </div>
                    
                    <div class="menu-item particle-effect-btn">
                        <a href="/archives">
                            <span class="btn-text">分类</span>
                        </a>
                    </div>
                    
                    <div class="menu-item particle-effect-btn">
                        <a href="/about">
                            <span class="btn-text">关于我</span>
                        </a>
                    </div>
                    

                    <div class="menu-item menu-item-search">
                        
  <span class="local-search local-search-google local-search-plugin">
      <input type="search" placeholder="站内搜索" id="local-search-input" class="local-search-input-cls" style="">
      <div id="local-search-result" class="local-search-result-cls"></div>
  </span>
	
                    </div>

                </div>
            </div>
        </div>

		<div id="content-outer">
			<div id="content-inner">

				

<div id="recent-posts-box">

  
  <div id="recent-posts">
    <!-- <h1>Recent Posts</h1> -->
    
    
    <div class="recent-post-item" data-href="/2025/07/13/2025/Reforcement-learning%E5%85%A5%E9%97%A8/">

      <div class="item-title">Reforcement learning入门</div>
      
      <time datetime="2025-07-13T02:51:41.000Z">
        2025-07-13
      </time>
      
      
      
      <div class="article-digest">
        <p>这篇blog用于记录我进行强化学习入门时学习到的基础知识 基本概念一些基本要素： Agent：进行“学习”的主体，会通过学习到的经验与环境交互，并在与环境交互的过程中进一步学习。 Environment：Agent交互的对象，客观存在，例如智能驾驶捕捉到的一张图片 State：Agent观察当前自己所处环境，获取到的局部环境信息 Action：Agent根据State结合自己以往的经验做出的行动，行动会改变Environment（Action可能是离散值，也可能是连续值，处理方法是不同的） Reward：Agent执行Action改变Environmen...</p>
      </div>
      

    </div>

    
    
    <div class="recent-post-item" data-href="/2025/07/06/2025/Fairness-Aware-Meta-Learning-via-Nash-Bargaining/">

      <div class="item-title">Fairness-Aware Meta-Learning via Nash Bargaining</div>
      
      <time datetime="2025-07-06T02:04:38.000Z">
        2025-07-06
      </time>
      
      
      
      <div class="article-digest">
        <p>这篇blog用于记录我阅读的一篇将传统的Game中的方法应用到学习中的论文 论文理解思路： 经典的Meta-learning的框架 Meta-learning在learning with fairness中的运用（框架、典型的方法） 经典方法中存在的问题 &amp;amp; 使用 NBS的改进 Meta-learning的框架在解决机器学习的过程中对于不同group的公平性问题的时候，会使用sensitive-attributed validation set来训练调整模型的参数，这个过程与常规的训练过程相结合通常被套入一个meta-learning frame...</p>
      </div>
      

    </div>

    
    
    <div class="recent-post-item" data-href="/2025/05/25/2025/%E6%8B%9C%E5%8D%A0%E5%BA%AD%E5%B0%86%E5%86%9B%E9%97%AE%E9%A2%98%E4%B8%8E%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%9A%84%E4%B8%80%E8%87%B4%E6%80%A7/">

      <div class="item-title">拜占庭将军问题与计算机系统的一致性</div>
      
      <time datetime="2025-05-25T11:06:55.000Z">
        2025-05-25
      </time>
      
      
      
      <div class="article-digest">
        <p>拜占庭将军问题是什么（它阐述了什么）？对于n个将军，将一个视为指挥将军，其它n-1个视作它的副将，指挥将军会向所有副将发送命令。在此基础上，拜占庭将军问题就是考虑一种算法，确保1）所有忠诚的副将将遵守相同的命令；2）如果指挥将军是忠诚的，则每个忠诚的副将都必须遵循他发送的命令。 如何确保忠诚的将军能够达成一致的行动计划？对于只能使用口头消息的时候，在叛徒数少于总数的三分之一的时候，忠诚的将军能够按照下面的方法达成一致的行动：我们将第一个发送决策值的将军看错指挥官；在0个叛徒时，指挥官将决策值传递给副将，副将根据接收到的消息，或默认的撤退，直接做出对应的决...</p>
      </div>
      

    </div>

    
    
    <div class="recent-post-item" data-href="/2025/05/25/2025/%E5%88%86%E5%B8%83%E5%BC%8F%E7%9A%84%E5%8E%9F%E5%AD%90%E6%80%A7%E4%B8%8E%E4%B8%80%E8%87%B4%E6%80%A7/">

      <div class="item-title">分布式的原子性与一致性</div>
      
      <time datetime="2025-05-25T04:33:42.000Z">
        2025-05-25
      </time>
      
      
      
      <div class="article-digest">
        <p>一次计算机系统工程导论的习题 问题一选择：A 因为小明的客户端到S3之间的网络经常停止工作，每次几分钟，而根据伪代码，在更新S3服务器上的信息的时候，while循环会一直尝试直到rpc_OK被置为true为止。所以CLENTWRITE通常需要花费几分钟（S3导致的）或更长的时间（可能不排除S1、S2也有出问题的可能性），去更新服务器。 问题二返回：Breakfast 因为在系统没有故障的时候，该分布式系统的一致性是有得到保障的，根据题目中串行执行的代码，读取到的内容会是最后一次写入的内容，对应为Breakfast。 问题三选择：AB 对于A，如果客户端计...</p>
      </div>
      

    </div>

    
    
    <div class="recent-post-item" data-href="/2025/05/18/2025/%E6%AF%9B%E6%A6%82%E5%A4%8D%E4%B9%A0/">

      <div class="item-title">毛概复习</div>
      
      <time datetime="2025-05-18T03:26:21.000Z">
        2025-05-18
      </time>
      
      
      
      <div class="article-digest">
        <p>用于记录我线上练习时遇到的知识点，以供日后复习的时候对照书本查看毛概与习概的复习思路都是先线上练习，记录知识点，期末的时候对照书本查看小题，同时背诵大题复习的时候要注意可能的题目变形 第二阶段题库二十届三中全会1 2024年7月15至18日，二十届三中全会在北京举行。全会指出，到2029年，完成《决定》提出的改革任务。 2 二十届三中全会提出，要健全因地制宜发展新质生产力体制机制，推动技术革命性突破，生产要素创新性配置和产业深度转型升级。（没有实体经济数字化，可以想想，确实实体经济难道一定要数字化吗？有的经济可能本身就不适合数字化…） 3 党的二十届三中...</p>
      </div>
      

    </div>

    
    
    <div class="recent-post-item" data-href="/2025/05/16/2025/Nash-MTL/">

      <div class="item-title">Nash-MTL（代码实现）</div>
      
      <time datetime="2025-05-16T05:25:46.000Z">
        2025-05-16
      </time>
      
      
      
      <div class="article-digest">
        <p>这篇blog用于记录我阅读Nash-MTL算法基于python的implemention，其中存在大量使用pytorch、tensorflow的地方，这些是我之前几乎没有接触过的东西，所以同时我也会进行相关的记录，进行学习。 Readme整篇blog从Nash-MTL开源项目的Readme文档开始，可以帮助我了解整个项目的文件组织结构。 conda在Python中，conda 是一个开源的包管理器和环境管理器，它主要用于安装和管理Python包以及创建和管理虚拟环境。 什么是包管理器和环境管理器通过查阅资料，我现在通俗的理解是： 包&amp;#x2F;库，项目开...</p>
      </div>
      

    </div>

    
    
    <div class="recent-post-item" data-href="/2025/05/15/2025/%E5%88%86%E5%B8%83%E5%BC%8F%E8%AE%A1%E7%AE%97%E6%A1%86%E6%9E%B6MapReduce/">

      <div class="item-title">分布式计算框架MapReduce</div>
      
      <time datetime="2025-05-15T10:53:59.000Z">
        2025-05-15
      </time>
      
      
      
      <div class="article-digest">
        <p>这篇blog用于记录我在学习计算机系统工程导论时所做的一次实验。我阅读了一篇论文，其介绍了一种名为MapReduce的模型，它通过键值对来拆解任务同时并行地处理子任务，达到了提高数据吞吐率从而降低时延提高性能的效果。 实验目的主要实验目的如下： 通过实验，理解MapReduce框架的基本原理，掌握MapReduce框架的Map阶段和Reduce阶段的执行流程，以及数据的划分、传输和聚合过程，具备使用MapReduce进行简单的分布式数据处理，并能通过进一步自学进行更为复杂的分布式数据处理，从而掌握使用MapReduce进行大数据处理的基本系统设计能力。 ...</p>
      </div>
      

    </div>

    
    
    <div class="recent-post-item" data-href="/2025/05/11/2025/MapReduce/">

      <div class="item-title">MapReduce</div>
      
      <time datetime="2025-05-11T07:41:01.000Z">
        2025-05-11
      </time>
      
      
      
      <div class="article-digest">
        <p>这篇blog用于记录，我在学习计算机系统工程导论，有关性能的章节时，阅读的一篇叫做MapReduce的论文 工程师提出MapReduce的编程模型和实现，他们的性能目标是什么？他们的性能目标是通过MapReduce实现大规模数据专用计算的自动并行化，使得缺少并行与分布式系统经验的程序员可以轻松利用大规模分布式系统资源，从而突破数据处理的时延这一性能瓶颈。 Google是怎么通过实现去满足这些目标的？MapReduce程序主要有用户部分和库部分，前者根据用户的业务逻辑需要在后者的基础上进行编写，而相关的并行化、容错、本地优化和负载均衡的细节被隐藏在后者中。...</p>
      </div>
      

    </div>

    
    
    <div class="recent-post-item" data-href="/2025/05/08/2025/%E8%AE%BA%E6%96%87%E7%B2%BE%E8%AF%BB%EF%BC%9A%E5%9F%BA%E4%BA%8E%E5%8D%9A%E5%BC%88%E8%AE%BA%E7%9A%84%E5%A4%8D%E4%BB%BB%E5%8A%A1%E5%AD%A6%E4%B9%A0/">

      <div class="item-title">论文精读：基于博弈论的多任务学习</div>
      
      <time datetime="2025-05-08T06:32:32.000Z">
        2025-05-08
      </time>
      
      
      
      <div class="article-digest">
        <p>这篇文献的原名是《Multi-Task Learning as a Bargaining Game》，这是我第一次尝试直接通篇阅读英文原文的文献，中间或许会遇到许多困难。我通过这篇blog来记录阅读的过程中遇到的概念，以及简单地对文章整体的脉络进行梳理。最终我希望对论文提到的算法进行复现，这篇blog将会是一个参考。 概念部分这一部分用于记录阅读时遇到的概念型词汇，并做一些补充解释。困难在于，有的词汇我并不清楚是否是概念型的专业词汇，亦或是只需理解表面含义的词汇... gradients梯度，包含某函数相对自身所有自变量的偏导数。 对于损失函数$L$梯度...</p>
      </div>
      

    </div>

    
    
    <div class="recent-post-item" data-href="/2025/05/07/2025/%E9%AB%98%E6%96%AF%E6%B7%B7%E5%90%88%E8%81%9A%E7%B1%BB/">

      <div class="item-title">高斯混合聚类</div>
      
      <time datetime="2025-05-07T07:16:00.000Z">
        2025-05-07
      </time>
      
      
      
      <div class="article-digest">
        <p>简介高斯混合聚类不同于k-means、LVQ利用原型向量刻画聚类结构，而是利用概率来刻画聚类结构。 简单来说，这种算法认为数据集中的每个样本都符合一个多元高斯分布（多元的原因是样本常是多元向量），如下 所有的样本共同符合“混合高斯分布”。混合高斯分布对应的概率密度函数是所有多元高斯分布密度函数的加权量。 多元高斯分布若$x$服从多元高斯分布，对应概率密度函数为 $p(x) &amp;#x3D; \frac{1}{(2\pi)^{\frac{n}{2}}\lvert \Sigma \rvert^{\frac{1}{2}}}e^{-\frac{1}{2}(x-\mu...</p>
      </div>
      

    </div>

    
  </div>
  

  <div id="recent-posts-paginator">
    <a class="extend prev" rel="prev" href="/page/3/"> </a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/5/"> </a>
  </div>

 </div>

<script>
  document.querySelectorAll('.recent-post-item').forEach(item => {
    // Add hover effect tracking
    item.addEventListener('mousemove', (e) => {
      const rect = item.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const y = e.clientY - rect.top;
      item.style.setProperty('--x', `${x}px`);
      item.style.setProperty('--y', `${y}px`);
    });

    // Make whole card clickable
    item.addEventListener('click', (e) => {
      // Don't trigger if user clicked an anchor tag (to allow open in new tab etc)
      if (e.target.tagName.toLowerCase() === 'a') return;
      
      const url = item.getAttribute('data-href');
      if (url) {
        window.location.href = url;
      }
    });
  });
</script>


<aside id="sidebar">
  
  <div class="widget-box">
  	<div class="widget-wrap" id="widget-calendar">
    <h3 class="widget-title">时空坐标</h3>
    <div class="widget-box-content">
        <div id="calendar-clock"></div>
        <div id="calendar-date-gregorian"></div>
        <div id="calendar-date-lunar"></div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/lunar-javascript@1.6.12/lunar.js"></script>
<script>
(function() {
    const clockEl = document.getElementById('calendar-clock');
    const dateGEl = document.getElementById('calendar-date-gregorian');
    const dateLEl = document.getElementById('calendar-date-lunar');

    function update() {
        const now = new Date();
        
        // Time
        const h = String(now.getHours()).padStart(2, '0');
        const m = String(now.getMinutes()).padStart(2, '0');
        const s = String(now.getSeconds()).padStart(2, '0');
        clockEl.textContent = `${h}:${m}:${s}`;

        // Gregorian
        const y = now.getFullYear();
        const mon = String(now.getMonth() + 1).padStart(2, '0');
        const d = String(now.getDate()).padStart(2, '0');
        dateGEl.textContent = `${y}年${mon}月${d}日`;

        // Lunar
        // Library usage: Solar.fromYmd(y, m, d).getLunar()
        if (window.Solar && window.Lunar) {
             const solar = Solar.fromYmd(now.getFullYear(), now.getMonth() + 1, now.getDate());
             const lunar = solar.getLunar();
             // Tianchou year (GanZhi)
             const yearGanZhi = lunar.getYearInGanZhi();
             const month = lunar.getMonthInChinese();
             const day = lunar.getDayInChinese();
             
             // e.g. 甲辰年 正月 初一
             dateLEl.textContent = `${yearGanZhi}年 ${month}月${day}`;
        }
    }

    setInterval(update, 1000);
    // Initial delay to ensure library loads if it's async, or retry
    // Simple retry logic
    const initInterval = setInterval(() => {
        if (window.Solar) {
            update();
            clearInterval(initInterval);
            setInterval(update, 1000);
        }
    }, 200);
})();
</script>

<style>
#widget-calendar .widget-box-content {
    text-align: center;
    padding: 15px;
    background: rgba(255, 255, 255, 0.5); /* Glassy feel */
    border-radius: 10px;
    backdrop-filter: blur(5px);
    width: 100%;
    box-sizing: border-box;
    overflow: hidden;
}
#calendar-clock {
    font-size: 1.8em; /* Reduced from 2.2em to fit better */
    font-weight: bold;
    color: #333;
    font-family: 'Courier New', Courier, monospace; /* Monospace for steady time */
    margin-bottom: 5px;
    white-space: nowrap;
}
#calendar-date-gregorian {
    font-size: 1.1em;
    color: #555;
    margin-bottom: 3px;
}
#calendar-date-lunar {
    font-size: 1em;
    color: #8a6d3b; /* Traditional color feel */
    font-weight: 500;
}
</style>

  </div>
  
  <div class="widget-box">
  	<div class="widget-wrap" id="widget-poetry">
    <h3 class="widget-title">阳生的诗云</h3>
    <div class="widget-box-content poetry-container" id="poetry-wheel">
        <div id="poetry-wrapper">
            <!-- JS will populate -->
        </div>
    </div>
</div>



<script>
(function() {
    var rawLines = ["水澹金粼雾舞空，烟锁灵山山囚龙。","霰尽芳菲行者至，露上凝珠紫气东。","父老提携童子笑，诸君揖互彩云从。","香火连天今日有，爆竹声毕夕已终。","黄烛灯火暗凝香，红袖酥肩幻梦长。","醉酒吟誐任疏狂，百落临渊战心惶。","前路无光路满霜，苦难同尘藏四方。","来年不求万事祥，我愿与之较锋芒。","春秋五载与君识，几经离别未有知。","可怜怎奈书生骨，举杯邀酒话无时。","今昔难见来日昶，参商共映明月光。","高山流水何其多，相见不言别离长。","秋霜一点红，寒露语松榕。","越鸟惊乡客，南巢临北冬。","遍揲晓风月，满羽繁星空。","择地息未有，淡裁碌日中。","何日花前酒，携诗青崖诵。","云野伴骄阳，仲夏风曦长。","身待雨缦缦，旱久难滂滂。","卧阴苇下驻，遮乌泮水旁。","念死闲行日，不意甘霖降。","细柳抚荫晓云畔，青山带水过君岸。","虽守陌路长相隔，念此故人月上看。","见海连天月下开，踏彩逐浪思楼台。","台下霓潮绕浪舞，台上金麟为我来。","长天碧色里，高阁一湖中。","传即千古士，行则知无穷。","携卷履地因风进，卧看长空皓月行。","明眸晶莹玉齿杯，蓬头恹面笑长情。","墨上还新山水通，此间独骑临霜松。","昨年闻香落笔柔，意与锋芒寄青空。","海破日出乾坤动，河汉月邀金乌重。","沧浪折煞浮萍起，百波沉浮犬马恸。","他日锥断窠臼风，白鹤冲天烟柳中。","任子何笑鱼龙游，东风吹我麟阁梦。","鸣剑八尺，柄灼伤伤。","血蚀锈迹，斑斑其煌。","剑折剑伤，不改剑刚。","素钢以铸，可刻金光。","百剑之中，其伤为扬。","剑鸣剑光，旦列剑榜。","百日随春尽，新曦按夜来。","碧草凝寒露，陌上芳菲开。","折枝近门扉，黄䤋扶老待。","相论无功名，赤子初心在。","自负有翅，既委金笼。","不绝长空，何异斑鸠！","虽离群所，日起当思。","衣冠正否，行止绳否。","若背师恩，女颜不存。","若耽暖衾，女辞为空。","而至今日，才非盖世。","略有所长，只在微志。","今志但弃，形飞神灭。","渺渺于世，不知为人。","幸生父母，又遇恩师。","教吾配兰，视吾圣贤。","前见子丘，后瞻东坡。","周环吾身，竖子小儿。","其钻弥坚？其爱一欢？","若以为前，即当顺羽。","若就后居，不如便埋！","百年征程易难兴，只言片语寥可尽？","听罢放翁示儿语，途闻鹏举复国心。","鱼耽海者树鸟亲，风化雨兮草木喑。","今时往已难可忆，唯叹受多报无冯！","蹇驴踏寒山，欲寻春可安。","此去十二载，未觉铁岭难。","路别桃花庵，又至神女山。","朱唇抿贝齿，纵邀即日欢。","眄谢蛾眉观，仰首望河汉。","心驶沧浪处，欲起罢钓竿！","微月照鬓角，夏风拂过柳眉梢。","微踮首，咧嘴笑，花色泛上白裙脚。","又是一年蝉鸣时，荏苒莺飞鸟。","犹觉夏日胜好。","余见千里之修厚鲲鹏者，以六月之息，适于南冥，一跃而上九万里，水击三千里。","余览其逍遥也，见其适者，天时也，非无所依也。然余谓之，己之限及身之短者，了然于胸，明所适者而享逍遥之微寥，不亦 逍遥也？","余见蜩与学鸠，以决起而飞，抢树而至，下鲲鹏之所适者，成其逍遥之逍遥也，特不解鲲鹏之所适者也。","余谓之，虽是井底之蛙，然于其身者，乐也，见世间万般皆下品，为己独高。于己之界，所达皆可有，所求皆以应，不亦逍遥 也？","且夫不死之椿，长生之冥灵，而宋荣子之辈不亦似鲲鹏哉，或有上中下之境焉也。","至于至人，神人，圣人，于天地之间无所适，乘万物之正，驾六气之辩者，余谓之人力所莫能及。然拊度其中，乘万物之正者 ，即庄周所言，物我为一，以天地万物之百变为己之息，如己心之动，血之流者。所适者皆如己出，故无所适也，通透哉！而 御六气之变，且夫游于无穷之中，仙人之谓也，非物力所能及。","故吾小儿，斗胆列逍遥之次，小，中，大者也。","小之逍遥，所限莫所大焉，然其不见，独达于己，鄙薄万物而如稚童，亦有乐者也。","中之逍遥，所限或有见微，然其了然，善适万物，夷其所长善之所短，诚然逍遥也。","大之逍遥，所限者于己身，通透明达，处之世间，无所不乐无所不适，此真逍遥也。","然三者之上，所能有游于无穷者，特为仙人之所处耳，言之何用？","小之逍遥，行年必出，中之逍遥，或死无穷。","故吾见中之逍遥亦有三般。","一曰，蟪蛄已死，化茧成蝶，初出井底，蓦然之余，惶惶之间，不知所为，旦怀为先，嘲之小儿以自饰，宋荣子之辈也。","二曰，明于世间，知所何为，明所不为，朝朝暮暮，施力其中，然有所乐，亦有所乏，或感万物之何为，或冥灵大椿也。","三曰，旷达自若，气定神闲，可借薄力，而撼世间，明哲处事，善以待人，乐而长命，无所喟叹无所疲，或鲲鹏之状也。","然一者之上，二者之下，或鄙之所谓也，目力有限，思有所疲，略省二者寥寥，而思三者谓何，至于大逍遥者，或愚竭毕生之 力而无以及，乃今之人或有一二，故余妄言，见之可由。余之所望，尽己之力，达于三者而望大逍遥者，仙人之风，果然之间 ，或付诸笑谈一二。"];
    // Shuffle
    // seed random? No, Math.random is fine
    rawLines.sort(() => Math.random() - 0.5);

    var container = document.getElementById('poetry-wheel');
    var wrapper = document.getElementById('poetry-wrapper');
    var ITEM_HEIGHT = 40; 
    var VISIBLE_ITEMS = 5;
    
    // Ensure we have enough lines for a smooth loop
    // At least enough to fill screen + buffers
    var lines = [...rawLines];
    while (lines.length < VISIBLE_ITEMS + 4) {
        lines = lines.concat(rawLines);
    }
    
    // We create 3 sets for infinite scrolling
    // Set 0: Buffer top
    // Set 1: Active
    // Set 2: Buffer bottom
    // Actually just one long list is enough if we reset transform
    // Format: [ ...lines, ...lines ]
    var displayList = [...lines, ...lines];
    
    displayList.forEach(text => {
        var div = document.createElement('div');
        div.className = 'poetry-line';
        div.innerText = text;
        wrapper.appendChild(div);
    });

    // Animation State
    var currentY = 0;
    var speed = 0.4; // Pixels per frame. 0.5 * 60fps = 30px/sec. Smooth.
    
    var singleSetHeight = lines.length * ITEM_HEIGHT;
    
    function animate() {
        currentY += speed;
        
        // Infinite Loop Logic
        // If we have scrolled past the first set, jump back to start
        if (currentY >= singleSetHeight) {
            currentY -= singleSetHeight;
        }
        
        // Apply transform
        wrapper.style.transform = `translateY(-${currentY}px)`;
        
        // Update Styles (Fan Effect)
        updateStyles(currentY);
        
        requestAnimationFrame(animate);
    }
    
    function updateStyles(scrollY) {
        var center = container.clientHeight / 2;
        var items = wrapper.children;
        
        for (var i = 0; i < items.length; i++) {
            var item = items[i];
            
            // Calculate Item's Y position relative to Container Top
            // ItemTopInWrapper = i * ITEM_HEIGHT
            // WrapperTopInContainer = -scrollY
            // ItemTopInContainer = (i * ITEM_HEIGHT) - scrollY
            
            var itemTop = (i * ITEM_HEIGHT) - scrollY;
            var itemCenter = itemTop + (ITEM_HEIGHT / 2);
            
            var dist = Math.abs(center - itemCenter);
            var maxDist = container.clientHeight / 1.5;
            
            var scale = 1;
            var opacity = 1;
            var blur = 0;
            
            if (dist < maxDist) {
                var ratio = 1 - (dist / maxDist);
                // Non-linear easing for better look?
                scale = 0.85 + (Math.pow(ratio, 0.8) * 0.35); // 0.85 to 1.2
                opacity = 0.2 + (Math.pow(ratio, 0.5) * 0.8); // 0.2 to 1.0
                blur = (1 - ratio) * 2;
            } else {
                scale = 0.85;
                opacity = 0.2;
                blur = 2;
            }
            
            item.style.transform = `scale(${scale})`; // Transform inside wrapper
            // Note: transforming item changes its layout space? 
            // Flex items: transform affects visual not layout. OK.
            item.style.opacity = opacity;
            item.style.filter = `blur(${blur}px)`;
            
            // Optimization: Skip items far out of view?
            // if (dist > container.clientHeight) item.style.visibility = 'hidden';
            // else item.style.visibility = 'visible';
        }
    }

    // Init
    // Start slightly offset to show text 
    currentY = 0; 
    animate();
})();
</script>

<style>
#widget-poetry .widget-box-content {
    background: linear-gradient(135deg, rgba(255,255,255,0.9), rgba(240,240,240,0.4));
    height: 200px; /* 5 * 40 */
    overflow: hidden; /* Hide scrollbar */
    position: relative;
    border-radius: 10px;
    backdrop-filter: blur(10px);
    width: 100%;
    box-sizing: border-box;
    -webkit-mask-image: linear-gradient(to bottom, transparent 0%, black 25%, black 75%, transparent 100%);
    mask-image: linear-gradient(to bottom, transparent 0%, black 25%, black 75%, transparent 100%);
}

#poetry-wrapper {
    /* Contains all items */
    will-change: transform;
}

.poetry-line {
    height: 40px;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 1.15em;
    font-family: "KaiTi", "STKaiti", "SimKai", serif;
    font-weight: bold;
    color: #333;
    white-space: nowrap;
    user-select: none;
    transition: opacity 0.1s; /* Only opacity needs smoothing if logic jumps? No, every frame updates. */
    /* Transform transition conflicts with JS scale? Yes. Remove transition. */
}
</style>

  </div>
  
  <div class="widget-box">
  	<div class="widget-wrap" id="widget-deadline">
    <h3 class="widget-title">下一个最后期限</h3>
    <div class="widget-box-content">
        
        
        
            <div class="deadline-card">
                <div class="deadline-title">保研相关事宜</div>
                <div class="deadline-date">2026-02-12 00:00:00</div>
                <div class="deadline-timer" id="deadline-timer" data-target="2026-02-12 00:00:00">
                    <div class="timer-box">
                        <span class="t-value" id="t-days">00</span>
                        <span class="t-label">天</span>
                    </div>
                    <div class="timer-box">
                        <span class="t-value" id="t-hours">00</span>
                        <span class="t-label">时</span>
                    </div>
                    <div class="timer-box">
                        <span class="t-value" id="t-minutes">00</span>
                        <span class="t-label">分</span>
                    </div>
                    <div class="timer-box">
                        <span class="t-value" id="t-seconds">00</span>
                        <span class="t-label">秒</span>
                    </div>
                </div>
            </div>
        
    </div>
</div>

<script>
(function() {
    var timerEl = document.getElementById('deadline-timer');
    if (!timerEl) return;
    
    var targetStr = timerEl.getAttribute('data-target');
    // Replace '-' with '/' for better Safari compatibility if needed, but modern browsers are fine
    var targetDate = new Date(targetStr.replace(/-/g, "/")); 

    function update() {
        var now = new Date();
        var diff = targetDate - now;
        
        if (diff <= 0) {
            timerEl.innerHTML = "已到期";
            return;
        }
        
        // Calc
        var days = Math.floor(diff / (1000 * 60 * 60 * 24));
        var hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        var minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
        var seconds = Math.floor((diff % (1000 * 60)) / 1000);
        
        document.getElementById('t-days').innerText = String(days).padStart(2, '0');
        document.getElementById('t-hours').innerText = String(hours).padStart(2, '0');
        document.getElementById('t-minutes').innerText = String(minutes).padStart(2, '0');
        document.getElementById('t-seconds').innerText = String(seconds).padStart(2, '0');
    }
    
    setInterval(update, 1000);
    update();
})();
</script>

<style>
.deadline-card {
    text-align: center;
    padding: 10px;
}
.deadline-title {
    font-weight: bold;
    font-size: 1.1em;
    margin-bottom: 5px;
    color: #333;
}
.deadline-date {
    font-size: 0.85em;
    color: #666;
    margin-bottom: 15px;
}
.deadline-timer {
    display: flex;
    justify-content: space-around;
}
.timer-box {
    display: flex;
    flex-direction: column;
    background: rgba(0,0,0,0.05);
    border-radius: 5px;
    padding: 5px;
    min-width: 40px;
}
.t-value {
    font-size: 1.2em;
    font-weight: bold;
    color: #49b1f5; /* Theme color */
    font-family: monospace;
}
.t-label {
    font-size: 0.7em;
    color: #888;
}
.deadline-empty {
    text-align: center;
    padding: 20px;
    color: #888;
}
.deadline-empty i {
    font-size: 2em;
    margin-bottom: 10px;
}
</style>

  </div>
  
</aside>

<!-- <div id="paginator"> -->
<!--   <a class="extend prev" rel="prev" href="/page/3/"> </a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/5/"> </a> -->
<!-- </div> -->

    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            processEscapes: true
          }
        });
      </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
            tex2jax: {
              skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
            }
          });
      </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
              var all = MathJax.Hub.getAllJax(), i;
              for(i=0; i < all.length; i += 1) {
                  all[i].SourceElement().parentNode.className += ' has-jax';
              }
          });
    </script>

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>



			</div>
		</div>

		<!-- <div id="bottom-outer">
			<div id="bottom-inner">
				Site by 阳生 | 
				Powered by <a target="_blank" rel="noopener" href="http://hexo.io">Hexo</a> |
				theme <a target="_blank" rel="noopener" href="https://github.com/fireworks99/hexo-theme-PreciousJoy">PreciousJoy</a>
			</div>
		</div> -->

		
	</div>





	
	<!-- scripts list from theme config.yml -->
	
	<script src="/js/jquery-3.5.1.min.js"></script>
	
	<script src="/js/PreciousJoy.js"></script>
	
	<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
	
	<script src="/js/jquery.fancybox.min.js"></script>
	
	<script src="/js/search.js"></script>
	
	<script src="/js/load.js"></script>
	
	<script src="/js/jquery.mCustomScrollbar.concat.min.js"></script>
	
	<script src="/js/clipboard.min.js"></script>
	
	

    <script src="/js/menu-particles.js"></script>
    <script src="/js/pagination-fan.js"></script>
    <script src="/js/pagination-string.js"></script>

	<script>hljs.initHighlightingOnLoad();</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>
</html>
